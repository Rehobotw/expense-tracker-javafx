<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.chart.PieChart?>

<BorderPane fx:id="rootPane" prefHeight="800.0" prefWidth="1200.0" stylesheets="@../css/styles.css" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.expensetracker.controller.DashboardController">
    <left>
        <VBox prefWidth="230.0" styleClass="sidebar" spacing="50.0">
            <Label styleClass="logo-text" text="MyExpenses" />
            <VBox spacing="15.0" VBox.vgrow="ALWAYS">
                <Button mnemonicParsing="false" styleClass="nav-button-active" text="Dashboard">
                    <graphic><Label styleClass="icon-label" text="ðŸ "/></graphic>
                </Button>
                <Button mnemonicParsing="false" onAction="#handleHistory" styleClass="nav-button" text="History">
                    <graphic><Label styleClass="icon-label" text="ðŸ•’"/></graphic>
                </Button>
                <Button mnemonicParsing="false" onAction="#handleAnalytics" styleClass="nav-button" text="Analytics">
                    <graphic><Label styleClass="icon-label" text="ðŸ“Š"/></graphic>
                </Button>
            </VBox>
            <Button mnemonicParsing="false" onAction="#handleLogout" styleClass="logout-button" text="Log out" />
        </VBox>
    </left>

    <center>
        <ScrollPane fitToWidth="true" styleClass="dashboard-scrollpane">
            <VBox spacing="25.0" styleClass="dashboard-content">
                <HBox alignment="CENTER_RIGHT">
                    <Region HBox.hgrow="ALWAYS" />
                    <HBox alignment="CENTER" spacing="15.0">
                        <Label fx:id="greetingDateLabel" styleClass="header-date" text="Dec 11, 2025" />
                    </HBox>
                </HBox>

                <VBox spacing="5.0">
                    <Label fx:id="userNameLabel" styleClass="greeting-title" text="Hello Natnael ," />
                    <Label styleClass="greeting-subtitle" text="Take a look at your expenses" />
                </VBox>

                <HBox spacing="20.0">
                    <VBox styleClass="metric-card, card-balance" HBox.hgrow="ALWAYS">
                        <Label styleClass="metric-card-title" text="Total balance" />
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <Label styleClass="card-icon-blue" text="ðŸ’°" />
                            <Label fx:id="totalBalanceValue" styleClass="metric-card-value" text="0 ETB" />
                        </HBox>
                    </VBox>

                    <VBox styleClass="metric-card, card-income" HBox.hgrow="ALWAYS">
                        <Label styleClass="metric-card-title" text="Income" />
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <Label styleClass="card-icon-green" text="ðŸ“ˆ" />
                            <Label fx:id="incomeValue" styleClass="metric-card-value" text="0 ETB" />
                        </HBox>
                    </VBox>

                    <VBox styleClass="metric-card, card-expense" HBox.hgrow="ALWAYS">
                        <Label styleClass="metric-card-title" text="Expense" />
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <Label styleClass="card-icon-red" text="ðŸ“‰" />
                            <Label fx:id="expenseValue" styleClass="metric-card-value" text="0 ETB" />
                        </HBox>
                    </VBox>

                    <VBox spacing="10.0" alignment="CENTER">
                        <Button onAction="#handleAddExpense" styleClass="btn-add-expense" text="+ Add Expense" />
                        <Button onAction="#handleAddIncome" styleClass="btn-add-income" text="+ Add Income" />
                    </VBox>
                </HBox>

                <HBox spacing="25.0">
                    <VBox styleClass="content-panel" HBox.hgrow="ALWAYS" minWidth="450">
                        <Label styleClass="panel-title-center" text="Recent Expenses" />
                        <HBox styleClass="transaction-header-row">
                            <Label text="Category" prefWidth="150" />
                            <Label text="Date" prefWidth="120" />
                            <Region HBox.hgrow="ALWAYS" />
                            <Label text="Amount" />
                        </HBox>
                        <VBox fx:id="recentTransactionsContainer" spacing="10.0" />
                    </VBox>

                    <VBox styleClass="content-panel" minWidth="450">
                        <Label styleClass="panel-title-center" text="Top Categories" />
                        <HBox alignment="CENTER" spacing="30.0">
                            <PieChart fx:id="categoryPieChart" labelsVisible="true" legendVisible="false" prefHeight="250" prefWidth="250" />

                            <VBox spacing="12.0" alignment="CENTER_LEFT" minWidth="150">
                                <HBox spacing="10" alignment="CENTER_LEFT"><Circle radius="6" fill="#0052cc"/><Label text="Food" styleClass="legend-text"/></HBox>
                                <HBox spacing="10" alignment="CENTER_LEFT"><Circle radius="6" fill="#ff9900"/><Label text="Transport" styleClass="legend-text"/></HBox>
                                <HBox spacing="10" alignment="CENTER_LEFT"><Circle radius="6" fill="#2ecc71"/><Label text="Shopping" styleClass="legend-text"/></HBox>
                                <HBox spacing="10" alignment="CENTER_LEFT"><Circle radius="6" fill="#9b59b6"/><Label text="Entertainment" styleClass="legend-text"/></HBox>
                                <HBox spacing="10" alignment="CENTER_LEFT"><Circle radius="6" fill="#e74c3c"/><Label text="Bills" styleClass="legend-text"/></HBox>
                                <HBox spacing="10" alignment="CENTER_LEFT"><Circle radius="6" fill="#1abc9c"/><Label text="Health" styleClass="legend-text"/></HBox>
                                <HBox spacing="10" alignment="CENTER_LEFT"><Circle radius="6" fill="#95a5a6"/><Label text="Others" styleClass="legend-text"/></HBox>
                            </VBox>
                        </HBox>
                    </VBox>
                </HBox>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>